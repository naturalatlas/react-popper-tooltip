var TooltipTrigger=function(e,t,o,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=e.createContext({}),a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t.forEach(function(e){return e&&e.apply(void 0,o)})}},c={childList:!0,subtree:!0},u=function(o){function r(){for(var e,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=o.call.apply(o,[this].concat(i))||this)._handleOutsideClick=function(o){if(!t.findDOMNode(l(l(e))).contains(o.target)){var r=e.props,n=r.hideTooltip,i=r.clearScheduled,s=r.parentOutsideClickHandler;i(),n(),s&&s(o)}},e._addOutsideClickHandler=function(){return document.addEventListener("click",e._handleOutsideClick)},e._removeOutsideClickHandler=function(){return document.removeEventListener("click",e._handleOutsideClick)},e.getArrowProps=function(t){return void 0===t&&(t={}),n({},t,{style:n({},t.style,e.props.arrowProps.style)})},e.getTooltipProps=function(t){void 0===t&&(t={});var o="hover"===e.props.trigger;return n({},t,{style:n({},t.style,e.props.style),onMouseEnter:a(o&&e.props.clearScheduled,t.onMouseEnter),onMouseLeave:a(o&&e.props.hideTooltip,t.onMouseLeave)})},e}i(r,o);var u=r.prototype;return u.componentDidMount=function(){var e=this,o=this.props.trigger;if((this.observer=new MutationObserver(function(){e.props.scheduleUpdate()})).observe(t.findDOMNode(this),c),"click"===o||"right-click"===o){var r=this.props.removeParentOutsideClickHandler;document.addEventListener("click",this._handleOutsideClick),r&&r()}},u.componentWillUnmount=function(){var e=this.props.trigger;if(this.observer.disconnect(),"click"===e||"right-click"===e){var t=this.props.addParentOutsideClickHandler;document.removeEventListener("click",this._handleOutsideClick),this._handleOutsideClick=void 0,t&&t()}},u.componentDidUpdate=function(){this.props.closeOnOutOfBoundaries&&this.props.outOfBoundaries&&this.props.hideTooltip()},u.render=function(){var t=this.props,o=t.arrowProps,r=t.placement,n=t.tooltip,i=t.innerRef;return e.createElement(s.Provider,{value:{addParentOutsideClickHandler:this._addOutsideClickHandler,removeParentOutsideClickHandler:this._removeOutsideClickHandler,parentOutsideClickHandler:this._handleOutsideClick}},n({getTooltipProps:this.getTooltipProps,getArrowProps:this.getArrowProps,tooltipRef:i,arrowRef:o.ref,placement:r}))},r}(e.PureComponent);u.propTypes={innerRef:o.func,style:o.object,arrowProps:o.object,placement:o.string,trigger:o.string,clearScheduled:o.func,tooltip:o.func,hideTooltip:o.func,parentOutsideClickHandler:o.func,scheduleUpdate:o.func,removeParentOutsideClickHandler:o.func,addParentOutsideClickHandler:o.func,closeOnOutOfBoundaries:o.bool,outOfBoundaries:o.bool};var d={preventOverflow:{boundariesElement:"viewport",padding:0}},p=function(o){function l(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=o.call.apply(o,[this].concat(r))||this).state={tooltipShown:!e._isControlled()&&e.props.defaultTooltipShown},e._setTooltipState=function(t){var o=function(){return e.props.onVisibilityChange(t)};e._isControlled()?o():e.setState({tooltipShown:t},o)},e._clearScheduled=function(){clearTimeout(e._hideTimeout),clearTimeout(e._showTimeout)},e._showTooltip=function(t){void 0===t&&(t=e.props.delayShow),e._clearScheduled(),e._showTimeout=setTimeout(function(){return e._setTooltipState(!0)},t)},e._hideTooltip=function(t){void 0===t&&(t=e.props.delayHide),e._clearScheduled(),e._hideTimeout=setTimeout(function(){return e._setTooltipState(!1)},t)},e._toggleTooltip=function(t){var o=e._getState()?"_hideTooltip":"_showTooltip";e[o](t)},e._contextMenuToggle=function(t){t.preventDefault(),e._toggleTooltip()},e.getTriggerProps=function(t){void 0===t&&(t={});var o="click"===e.props.trigger,r="hover"===e.props.trigger,i="right-click"===e.props.trigger;return n({},t,{onClick:a(o&&e._toggleTooltip,t.onClick),onContextMenu:a(i&&e._contextMenuToggle,t.onContextMenu),onMouseEnter:a(r&&e._showTooltip,t.onMouseEnter),onMouseLeave:a(r&&e._hideTooltip,t.onMouseLeave)})},e}i(l,o);var c=l.prototype;return c._isControlled=function(){return void 0!==this.props.tooltipShown},c._getState=function(){return this._isControlled()?this.props.tooltipShown:this.state.tooltipShown},c.componentWillUnmount=function(){this._clearScheduled()},c.render=function(){var o=this,i=this.props,l=i.children,a=i.tooltip,c=i.placement,p=i.trigger,h=i.modifiers,f=i.closeOnOutOfBoundaries,g=i.usePortal,v=i.portalContainer,O=e.createElement(r.Popper,{placement:c,modifiers:n({},d,h)},function(t){var r=t.ref,i=t.style,l=t.placement,c=t.arrowProps,d=t.outOfBoundaries,h=t.scheduleUpdate;return e.createElement(s.Consumer,null,function(t){var s=t.addParentOutsideClickHandler,g=t.removeParentOutsideClickHandler,v=t.parentOutsideClickHandler;return e.createElement(u,n({style:i,arrowProps:c,placement:l,trigger:p,closeOnOutOfBoundaries:f,tooltip:a,addParentOutsideClickHandler:s,removeParentOutsideClickHandler:g,parentOutsideClickHandler:v,outOfBoundaries:d,scheduleUpdate:h},{innerRef:r,hideTooltip:o._hideTooltip,clearScheduled:o._clearScheduled}))})});return e.createElement(r.Manager,null,e.createElement(r.Reference,null,function(e){var t=e.ref;return l({getTriggerProps:o.getTriggerProps,triggerRef:t})}),this._getState()&&(g?t.createPortal(O,v):O))},l}(e.PureComponent);return p.propTypes={children:o.func.isRequired,tooltip:o.func.isRequired,defaultTooltipShown:o.bool,tooltipShown:o.bool,onVisibilityChange:o.func,delayShow:o.number,delayHide:o.number,placement:o.string,trigger:o.oneOf(["click","hover","right-click","none"]),closeOnOutOfBoundaries:o.bool,usePortal:o.bool,portalContainer:"undefined"!=typeof HTMLElement?o.instanceOf(HTMLElement):o.object,modifiers:o.object},p.defaultProps={delayShow:0,delayHide:0,defaultTooltipShown:!1,placement:"right",trigger:"hover",closeOnOutOfBoundaries:!0,onVisibilityChange:function(){},usePortal:!0,portalContainer:"undefined"!=typeof document?document.body:null},p}(React,ReactDOM,PropTypes,ReactPopper);
